# 项目规则

## 分支管理规则

1. **执行命令前确认当前分支**，以避免意外操作主分支
2. **在正确的分支上工作**：
   - `main` 分支：仅用于代码集成和发布
   - `branch-sample-data-testing`：用于方案3（使用示例数据进行测试）
   - `branch-pretrained-inference`：用于方案1（使用预训练模型进行推理）
   - `branch-full-training-setup`：用于方案2（完整训练设置）
3. **分支切换前**，确保当前分支的更改已提交或暂存
4. **合并更改前**，确保目标分支是最新的

## 大文件管理规则

1. **遵循大文件使用指南**：参考 `LARGE_FILES_GUIDE.md` 文档了解被排除的大文件
2. **本地存档大文件**：
   - 预训练模型文件：`model/pretrained_models/`
   - 预训练权重文件：`pretrained_weights/`
   - 训练输出结果：`output/`
3. **完整还原步骤**：
   - 克隆仓库并切换到目标分支
   - 还原大文件到对应目录
   - 验证还原是否成功
4. **定期备份大文件**，确保数据安全

## 开发流程规则

1. **从易到难迭代**：按照方案3 → 方案1 → 方案2的顺序进行开发
2. **文档更新**：对大文件的任何更改都应同步更新 `LARGE_FILES_GUIDE.md`
3. **测试验证**：在每个分支上完成开发后，进行相应的测试验证
4. **代码质量**：确保代码符合项目的编码规范

## 故障排除规则

1. **检查分支状态**：遇到问题时，首先确认当前所在分支
2. **检查大文件**：如果功能无法正常工作，检查相关大文件是否已正确还原
3. **参考文档**：遇到问题时，参考 `TRAINING_SOLUTIONS.md` 和 `LARGE_FILES_GUIDE.md`
4. **记录问题**：遇到并解决的问题应记录下来，以便后续参考